<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hero Carousel</title>

  <!-- 讓首屏先快顯圖片（第一張的 poster） -->
  <link rel="preload" as="image" href="/images/banner/banner1.jpg" />

  <style>
    /* 精簡必要樣式（其餘可沿用站上的品牌樣式） */
    :root{ --accent:#FF8C42; }
    .carousel{ position:relative; overflow:hidden; width:100%; height:56.25vw; max-height:720px; background:#000; }
    @media (max-width: 768px){ .carousel{ height: 60vh; max-height:none; } }

    .carousel-inner{
      display:flex; width:100%; height:100%;
      transition: transform .6s ease;
      will-change: transform;
    }
    .slide{ position:relative; min-width:100%; height:100%; display:flex; align-items:center; justify-content:center; background:#000; }
    .slide video, .slide img{ width:100%; height:100%; object-fit:cover; display:block; }

    .ctrl{
      position:absolute; top:50%; transform:translateY(-50%);
      width:44px; height:44px; border-radius:50%;
      display:flex; align-items:center; justify-content:center;
      background:rgba(0,0,0,.55); color:#fff; font-size:20px; line-height:1;
      border:none; cursor:pointer; z-index:10;
    }
    .ctrl:hover{ background:rgba(0,0,0,.75); }
    .prev{ left:12px; } .next{ right:12px; }

    .dots{ position:absolute; left:50%; bottom:12px; transform:translateX(-50%);
      display:flex; gap:8px; z-index:10; }
    .dot{ width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,.45); cursor:pointer; }
    .dot.active{ background:var(--accent); }

    /* 使用者偏好減少動效時，停用自動播放與過度 */
    @media (prefers-reduced-motion: reduce){
      .carousel-inner{ transition:none; }
    }
  </style>
</head>
<body>

  <div class="carousel" aria-label="首頁輪播">
    <div class="carousel-inner">
      <!-- Slide 1：首屏，完全預載 -->
      <!--<div class="slide" aria-roledescription="slide" aria-label="1">
          <video autoplay loop muted playsinline preload="auto" poster="/images/banner/banner1.jpg">
              <source src="/images/local/carousel/6.jfif" type="video/webm" />
              <source src="/images/banner/banner1.mp4" type="video/mp4" />
          </video>
      </div>-->

      <!-- Slide 2：懶載入（僅有 data-src；切到該張再填 src + load） -->
      <div class="slide" aria-roledescription="slide" aria-label="2">
        <video autoplay loop muted playsinline preload="none" poster="/images/local/carousel/6.jfif">
          <!--<source data-src="/images/local/carousel/6.jfif" type="video/webm" />
          <source data-src="/images/local/carousel/6.jfif"  type="video/mp4" />-->
        </video>
      </div>

      <!-- Slide 3：懶載入 -->
      <div class="slide" aria-roledescription="slide" aria-label="3">
        <video autoplay loop muted playsinline preload="none" poster="/images/banner/banner3.jpg">
          <source data-src="/images/banner/banner3.webm" type="video/webm" />
          <source data-src="/images/banner/banner3.mp4"  type="video/mp4" />
        </video>
      </div>
    </div>

    <button class="ctrl prev" aria-label="上一張">‹</button>
    <button class="ctrl next" aria-label="下一張">›</button>
    <div class="dots" aria-label="輪播指示器"></div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', ()=> carousel.init({
      selector: '.carousel',
      interval: 5000   // 自動播放間隔（ms）
    }));
  </script>
</body>
</html>
